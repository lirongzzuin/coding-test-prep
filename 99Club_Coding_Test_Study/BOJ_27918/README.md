## 🍫 !!초콜릿 중독 주의!! (BOJ 27918)

### 📌 문제 개요

정수 0 또는 1과, 그 앞뒤로 올 수 있는 느낌표(`!`)를 활용한 특이한 수식을 계산하는 문제다.
이 수식은 다음 두 연산 규칙을 따른다:

- `n!` → 팩토리얼: `0! = 1`, `1! = 1`
- `!n` → 논리 반전 (Logical NOT): `!0 = 1`, `!1 = 0`

**우선순위**는 팩토리얼이 논리 반전보다 먼저 적용된다.
즉, `!n!`은 `!(n!)`으로 해석되고,
`!!n!!`은 `!(!((n!)!))`처럼 순서대로 처리해야 한다.

---

### 📥 입력 조건
- 첫째 줄: 테스트 케이스 수 `T` (1 ≤ T ≤ 1,000)
- 둘째 줄부터 T개의 줄: 각 줄마다 하나의 수식
  - 수식은 `a`개의 전위 느낌표, 정수 `n` (0 또는 1), `b`개의 후위 느낌표로 구성됨
  - `0 ≤ a, b ≤ 30`

### 📤 출력 조건
- 각 수식의 결과를 한 줄씩 출력

---

### 💡 예제

#### 예제 입력
```
6
0!
1!
!0
!1
!!0!!
!!1!!
```

#### 예제 출력
```
1
1
1
0
1
1
```

---

### 🧠 문제 풀이 흐름

#### 🔹 1. 수식 구조 파악
- 수식은 정수 하나를 중심으로 앞뒤에 느낌표(`!`)가 붙는 형태
- 전위 느낌표: 논리 NOT
- 후위 느낌표: 팩토리얼

#### 🔹 2. 연산 순서 정리
- 후위 느낌표부터 먼저 팩토리얼 연산 → 논리 NOT 순서로 적용
- `!!0!!` → `!(!((0!)!))`
  - 0 → 0!
  - → 1
  - → !1 → 0
  - → !0 → 1

#### 🔹 3. 논리 NOT 연산 함수 구현
```python
def logical_not(n):
    return 0 if n == 1 else 1
```

---

### 💻 풀이 코드 (Python)

```python
def evaluate_expression(expr):
    # 전위 느낌표 수
    prefix = 0
    while expr[prefix] == '!':
        prefix += 1

    # 숫자
    n = int(expr[prefix])

    # 후위 느낌표 수
    suffix = len(expr) - (prefix + 1)

    # 1. 후위 팩토리얼 처리
    for _ in range(suffix):
        n = 1  # 0! = 1, 1! = 1 고정

    # 2. 전위 논리 NOT 처리
    for _ in range(prefix):
        n = 0 if n == 1 else 1

    return n

# 입력 처리
T = int(input())
for _ in range(T):
    expr = input().strip()
    print(evaluate_expression(expr))
```

---

### ✏️ 마무리 정리

연산 규칙 자체는 단순하지만, **연산 순서**가 핵심이다. 팩토리얼을 먼저 적용하고 그 후에 논리 반전을 반복 적용해야 하기 때문에, 중첩 느낌표가 많아져도 그 순서를 정확히 따라가는 것이 중요하다.

논리 연산과 팩토리얼이 정해진 고정 결과를 갖기 때문에, 연산 구현 자체는 간단했고, 수식 분석 → 연산 분리 → 순서대로 적용하는 흐름만 잘 구현하면 문제없이 해결된다.

- 핵심: "후위 팩토리얼 먼저, 전위 논리 NOT 나중"

